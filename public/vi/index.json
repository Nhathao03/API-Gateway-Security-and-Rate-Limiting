[
{
	"uri": "//localhost:1313/vi/",
	"title": "API Gateway Security and Rate Limiting",
	"tags": [],
	"description": "",
	"content": "Triá»ƒn khai ASP.NET Core API + React JS + SQL Server 2019 trÃªn AWS Tá»•ng quan Trong bÃ i lab nÃ y, báº¡n sáº½ tÃ¬m hiá»ƒu cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vÃ  thá»±c hÃ nh vá» Amazon API Gateway Security and Rate Limiting - Session Management. ThÆ°Ì£c haÌ€nh taÌ£o kÃªÌt nÃ´Ìi Ä‘áº¿n maÌy chuÌ‰ public vaÌ€ maÌy chuÌ‰ private trong VPC.\n"
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.3-authenticationandstorage/3.3.1-authenticationwithamplify/",
	"title": "Application vá»›i Amplify",
	"tags": [],
	"description": "",
	"content": " Cháº¡y cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y táº¡i thÆ° má»¥c gá»‘c cá»§a á»©ng dá»¥ng mÃ  báº¡n clone vá» Ä‘á»ƒ thÃªm authentication cho á»©ng dá»¥ng: amplify add auth Chá»n theo cÃ¡c thÃ´ng tin dÆ°á»›i Ä‘Ã¢y:\nDo you want to use the default authentication and security configuration? Default configuration Warning: you will not be able to edit these selections. How do you want users to be able to sign in? Username Do you want to configure advanced settings? No, I am done. Cháº¡y cÃ¢u lá»‡nh sau Ä‘á»ƒ cáº­p nháº­t tÃ i nguyÃªn trÃªn cloud: amplify push Má»Ÿ láº¡i báº£ng Ä‘iá»u khiá»ƒn cá»§a CloudFormation Ä‘á»ƒ kiá»ƒm tra xem stack Ä‘Ã£ Ä‘Æ°á»£c táº¡o hay chÆ°a. áº¤n id cá»§a UserPool Ä‘á»ƒ má»Ÿ báº£ng Ä‘iá»u khiá»ƒn cá»§a Cognito User Pool Cháº¡y cÃ¢u lá»‡nh sau Ä‘á»ƒ báº¯t Ä‘áº§u vá»›i á»©ng dá»¥ng: npm start áº¤n Sign up Ä‘á»ƒ Ä‘Äƒng kÃ½ tÃ i khoáº£n má»›i. Nháº­p thÃ´ng tin ngÆ°á»i dÃ¹ng: TÃªn ngÆ°á»i dÃ¹ng, vÃ­ dá»¥: admin Nháº­p email cá»§a báº¡n. Máº­t kháº©u, vÃ­ dá»¥: Admin123 áº¤n Sign up Má»Ÿ láº¡i báº£ng Ä‘iá»u khiá»ƒn cá»§a Cognito User Pool, chá»n tab User báº¡n sáº½ tháº¥y má»™t ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½ nhÆ°ng chÆ°a xÃ¡c nháº­n Má»Ÿ mail cá»§a báº¡n Ä‘á»ƒ láº¥y mÃ£ xÃ¡c thá»±c Ä‘Ã£ Ä‘Æ°á»£c gá»­i tá»± Ä‘á»™ng. Nháº­p mÃ£ xÃ¡c nháº­p vÃ o á»©ng dá»¥ng rá»“i áº¥n Submit Má»Ÿ láº¡i báº£ng Ä‘iá»u khiá»ƒn cá»§a Cognito User Pool, áº¥n biá»ƒu tÆ°á»£ng Refresh báº¡n sáº½ tháº¥y ngá»«oi dÃ¹ng Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c thá»±c ÄÄƒng nháº­p vÃ o á»©ng dá»¥ng vá»›i tÃ i khoáº£n báº¡n vá»«a Ä‘Äƒng kÃ½. Báº¡n Ä‘Ã£ Ä‘Äƒng nháº­p thÃ nh cÃ´ng. "
},
{
	"uri": "//localhost:1313/vi/1-introduce/",
	"title": "Giá»›i thiá»‡u",
	"tags": [],
	"description": "",
	"content": "Giá»›i thiá»‡u Ä‘á» tÃ i Trong bá»‘i cáº£nh cÃ¡c há»‡ thá»‘ng hiá»‡n Ä‘áº¡i ngÃ y cÃ ng phá»¥ thuá»™c vÃ o API Ä‘á»ƒ giao tiáº¿p giá»¯a cÃ¡c dá»‹ch vá»¥, viá»‡c Ä‘áº£m báº£o an toÃ n cho cÃ¡c API trá»Ÿ thÃ nh má»™t nhiá»‡m vá»¥ thiáº¿t yáº¿u. Má»™t API khÃ´ng Ä‘Æ°á»£c báº£o vá»‡ Ä‘Ãºng cÃ¡ch cÃ³ thá»ƒ trá»Ÿ thÃ nh Ä‘iá»ƒm yáº¿u khiáº¿n cáº£ há»‡ thá»‘ng bá»‹ táº¥n cÃ´ng, gÃ¢y máº¥t dá»¯ liá»‡u, giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥ hoáº·c vi pháº¡m tuÃ¢n thá»§ báº£o máº­t.\nÄá» tÃ i â€œAPI Security Gateway vá»›i Advanced Protectionâ€ hÆ°á»›ng Ä‘áº¿n viá»‡c triá»ƒn khai má»™t kiáº¿n trÃºc API Gateway báº£o máº­t cao cáº¥p trÃªn ná»n táº£ng AWS, tÃ­ch há»£p Ä‘áº§y Ä‘á»§ cÃ¡c lá»›p báº£o vá»‡ hiá»‡n Ä‘áº¡i vÃ  quy chuáº©n an ninh, bao gá»“m:\nThreat Protection: Báº£o vá»‡ chá»‘ng láº¡i cÃ¡c cuá»™c táº¥n cÃ´ng nhÆ° DDoS, SQL injection, XSS\u0026hellip; Rate Limiting: Giá»›i háº¡n tá»‘c Ä‘á»™ truy cáº­p API theo IP hoáº·c theo ngÆ°á»i dÃ¹ng. Authentication: CÆ¡ cháº¿ xÃ¡c thá»±c máº¡nh máº½, há»— trá»£ OAuth2, JWT, SSO\u0026hellip; Authorization: PhÃ¢n quyá»n chi tiáº¿t theo vai trÃ², nhÃ³m ngÆ°á»i dÃ¹ng. Monitoring \u0026amp; Logging: GiÃ¡m sÃ¡t thá»i gian thá»±c, alert, truy váº¿t sá»± cá»‘. Operational Readiness: Triá»ƒn khai, báº£o trÃ¬ vÃ  quáº£n lÃ½ váº­n hÃ nh thuáº­n tiá»‡n. Developer Integration: Há»— trá»£ tá»‘t cho viá»‡c tÃ­ch há»£p frontend/backend vÃ  CI/CD. Má»¥c tiÃªu triá»ƒn khai HÆ°á»›ng dáº«n sáº½ táº­p trung vÃ o viá»‡c cáº¥u hÃ¬nh vÃ  triá»ƒn khai cÃ¡c dá»‹ch vá»¥ native cá»§a AWS Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c cÃ¡c yÃªu cáº§u sau:\nYÃªu cáº§u ká»¹ thuáº­t Dá»‹ch vá»¥ sá»­ dá»¥ng trÃªn AWS Threat Protection AWS Shield, AWS WAF DNS Protection + Entry Point Amazon Route 53 API Gateway Management Amazon API Gateway Authentication / Authorization Amazon Cognito, JWT, IAM Rate Limiting AWS WAF Rate-based rules, API Gateway quotas Business Logic AWS Lambda Data Storage Amazon S3, DynamoDB, Aurora Serverless Monitoring / Alerting Amazon CloudWatch, X-Ray Kiáº¿n trÃºc há»‡ thá»‘ng Há»‡ thá»‘ng Ä‘Æ°á»£c thiáº¿t káº¿ theo hÆ°á»›ng zero-trust, vá»›i cÃ¡c lá»›p báº£o vá»‡ theo chiá»u sÃ¢u tá»« lá»›p biÃªn (network) Ä‘áº¿n á»©ng dá»¥ng vÃ  dá»¯ liá»‡u.\nNá»™i dung blog gá»“m 3 pháº§n chÃ­nh Giá»›i thiá»‡u Ä‘á» tÃ i (báº¡n Ä‘ang xem) HÆ°á»›ng dáº«n triá»ƒn khai chi tiáº¿t trÃªn AWS Console: Cáº¥u hÃ¬nh tá»«ng thÃ nh pháº§n nhÆ° Shield, WAF, Cognito, API Gateway, v.v. Káº¿t ná»‘i vÃ  tÃ­ch há»£p giá»¯a cÃ¡c dá»‹ch vá»¥. Dá»n dáº¹p tÃ i nguyÃªn sau triá»ƒn khai: HÆ°á»›ng dáº«n xÃ³a cÃ¡c dá»‹ch vá»¥ Ä‘Ã£ sá»­ dá»¥ng Ä‘á»ƒ trÃ¡nh phÃ¡t sinh chi phÃ­. YÃªu cáº§u trÆ°á»›c khi báº¯t Ä‘áº§u Má»™t tÃ i khoáº£n AWS vá»›i quyá»n quáº£n trá»‹ hoáº·c IAM Ä‘á»§ quyá»n thao tÃ¡c. Kiáº¿n thá»©c cÆ¡ báº£n vá» REST API, báº£o máº­t web (JWT, OAuth2, IAM). Má»™t tÃªn miá»n náº¿u báº¡n muá»‘n cáº¥u hÃ¬nh vá»›i Route 53 vÃ  CloudFront. CÃ i Ä‘áº·t sáºµn AWS CLI náº¿u muá»‘n thao tÃ¡c káº¿t há»£p terminal. Káº¿t luáº­n HÆ°á»›ng dáº«n nÃ y phÃ¹ há»£p cho cáº£:\nNhÃ  phÃ¡t triá»ƒn Ä‘ang xÃ¢y dá»±ng há»‡ thá»‘ng API trÃªn AWS DevOps hoáº·c Security Engineer triá»ƒn khai mÃ´ hÃ¬nh báº£o máº­t phÃ¢n lá»›p Há»c viÃªn hoáº·c ká»¹ sÆ° muá»‘n tÃ¬m hiá»ƒu kiáº¿n trÃºc báº£o máº­t API hiá»‡n Ä‘áº¡i "
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.1-introduceamplify/",
	"title": "Giá»›i thiá»‡u vá» Amplify",
	"tags": [],
	"description": "",
	"content": "Overview AWS Amplify lÃ  bá»™ cÃ´ng cá»¥ há»— trá»£ láº­p trÃ¬nh viÃªn xÃ¢y dá»±ng vÃ  triá»ƒn khai nhanh cÃ¡c á»©ng dá»¥ng web/mobile tÃ­ch há»£p vá»›i cÃ¡c dá»‹ch vá»¥ AWS nhÆ° API, Authentication, Storage, Hosting. Amplify giÃºp Ä‘Æ¡n giáº£n hÃ³a quÃ¡ trÃ¬nh quáº£n lÃ½ backend, cung cáº¥p thÆ° viá»‡n frontend vÃ  dá»‹ch vá»¥ hosting sáºµn sÃ ng cho sáº£n pháº©m.\nAuthentication with Amplify Authentication with Amplify giÃºp dá»… dÃ ng tÃ­ch há»£p tÃ­nh nÄƒng xÃ¡c thá»±c ngÆ°á»i dÃ¹ng vÃ o á»©ng dá»¥ng vá»›i Amazon Cognito lÃ m backend. Há»— trá»£ Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p, quÃªn máº­t kháº©u, xÃ¡c thá»±c Ä‘a yáº¿u tá»‘ (MFA), xÃ¡c thá»±c xÃ£ há»™i (Google, Facebook, Apple), cho phÃ©p láº­p trÃ¬nh viÃªn triá»ƒn khai nhanh báº£o máº­t ngÆ°á»i dÃ¹ng.\nStorage with Amplify Storage with Amplify cung cáº¥p giáº£i phÃ¡p lÆ°u trá»¯ tá»‡p (hÃ¬nh áº£nh, video, tÃ i liá»‡u) thÃ´ng qua Amazon S3. Dá»¯ liá»‡u cÃ³ thá»ƒ Ä‘Æ°á»£c quáº£n lÃ½ theo quyá»n riÃªng tÆ° (public, protected, private), tÃ­ch há»£p sáºµn vá»›i xÃ¡c thá»±c ngÆ°á»i dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t quyá»n truy cáº­p, há»— trá»£ upload, download vÃ  chia sáº» tá»‡p an toÃ n.\n"
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.1-createdynamodbtable/",
	"title": "Táº¡o báº£ng vá»›i DynamoDB",
	"tags": [],
	"description": "",
	"content": "CREATE DYNAMODB TABLE Open DynamoDB console Click Create table Enter table name: Documents Enter Parition key is user_id Enter Sort key is file In Table setting section, select Customsize setting Keep DynamoDB Standard for Table class Select On-demand for Capacity mode Scroll to the bottom of the page, click Create table "
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.2-createlambdafunctions/2.2.1-createlistingfunction/",
	"title": "Táº¡o function liá»‡t kÃª",
	"tags": [],
	"description": "",
	"content": "Trong pháº§n nÃ y chÃºng ta sáº½ táº¡o function Ä‘á»ƒ liá»‡t kÃª cÃ¡c tÃ i liá»‡u Ä‘Æ°á»£c lÆ°u trong DynamoDB table theo id cá»§a ngÆ°á»i dÃ¹ng.\nMá»Ÿ báº£ng Ä‘iá»u kiá»ƒn AWS Lambda console Nháº¥n nÃºt Create function Nháº­p tÃªn function: list_documents Chá»n Python 3.9 cho má»¥c Runtime Nháº¥n nÃºt Create function Nháº­p vÃ o Ä‘oáº¡n code sau cho tá»‡p lambda_function.py: import json import boto3 import os from decimal import * from boto3.dynamodb.types import TypeDeserializer dynamodb = boto3.client(\u0026#39;dynamodb\u0026#39;) serializer = TypeDeserializer() class DecimalEncoder(json.JSONEncoder): def default(self, obj): if isinstance(obj, Decimal): return str(obj) return json.JSONEncoder.default(self, obj) def deserialize(data): if isinstance(data, list): return [deserialize(v) for v in data] if isinstance(data, dict): try: return serializer.deserialize(data) except TypeError: return {k: deserialize(v) for k, v in data.items()} else: return data def lambda_handler(event, context): table_name = os.environ[\u0026#39;TABLE_NAME\u0026#39;] user_id = event[\u0026#39;pathParameters\u0026#39;][\u0026#39;id\u0026#39;] print(user_id) docs = dynamodb.query( TableName=table_name, KeyConditionExpression=\u0026#34;user_id = :id\u0026#34;, ExpressionAttributeValues={ \u0026#34;:id\u0026#34;: { \u0026#39;S\u0026#39;: user_id } } ) format_data_docs = deserialize(docs[\u0026#34;Items\u0026#34;]) # TODO implement return { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;headers\u0026#34;: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, \u0026#34;Access-Control-Allow-Origin\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Access-Control-Allow-Methods\u0026#34;: \u0026#34;GET,PUT,POST,DELETE, OPTIONS\u0026#34;, \u0026#34;Access-Control-Allow-Headers\u0026#34;: \u0026#34;Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, Content-Type, Access-Control-Request-Method,X-Access-Token,XKey,Authorization\u0026#34; }, \u0026#34;body\u0026#34;: json.dumps(format_data_docs, cls=DecimalEncoder) } Sau Ä‘Ã³ nháº¥n nÃºt Deloy Äoáº¡n code trÃªn thá»±c hiá»‡n láº¥y biáº¿n mÃ´i trÆ°á»ng TABLE_NAME vÃ  id cá»§a ngÆ°á»i dÃ¹ng tá»« event. Sau Ä‘Ã³ query Ä‘áº¿n DynamoDB table vá»›i Ä‘iá»u kiá»‡n giÃ¡ trá»‹ cá»§a Partition key báº±ng id cá»§a ngÆ°á»i dÃ¹ng. Sau Ä‘Ã³ Ä‘á»‹nh dáº¡ng láº¡i dá»¯ liá»‡u Ä‘Æ°á»£c tráº£ vá» sau khi query.\nChÃºng ta cáº§n thÃªm biáº¿n mÃ´i trÆ°á»ng cho function. áº¤n tab Configuration, sau Ä‘Ã³ chá»n Environment variables á»Ÿ menu phÃ­a bÃªn trÃ¡i. áº¤n Edit Nháº¥n nÃºt Add environment variable Nháº­p TABLE_NAME vÃ o key Nháº­p tÃªn DynamoDB table báº¡n vá»«a táº¡o lÃ m giÃ¡ trá»‹ Nháº¥n nÃºt Save Tiáº¿p theo, thÃªm quyá»n cho function Ä‘á»ƒ truy cáº­p vÃ o DynamoDB table Nháº¥n nÃºt Permission á»Ÿ menu bÃªn trÃ¡i áº¤n vÃ o tÃªn role mÃ  lambda function Ä‘ang thá»±c hiá»‡n Má»Ÿ rá»™ng chÃ­nh sÃ¡ch AWSLambdaBasicExecutionRoleâ€¦ sau Ä‘Ã³ áº¥n Edit Nháº¥n nÃºt JSON. Sao chÃ©p Ä‘oáº¡n json dÆ°á»›i Ä‘Ã¢y vÃ o editor ,\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;dynamodb:Query\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:dynamodb:REGION:ACCOUNT_ID:table/Documents\u0026#34;\r} Thay tháº¿ REGION vÃ  ACCOUNT_ID báº±ng vÃ¹ng mÃ  báº¡n táº¡o báº£ng vÃ  account id cá»§a báº¡n.\nNháº¥n nÃºt Review policy Nháº¥n nÃºt Save changes "
},
{
	"uri": "//localhost:1313/vi/4-frontendintergrationwithfrontend/4.1-deloyfrontend/",
	"title": "Triá»ƒn khai giao diá»‡n ngÆ°á»i dÃ¹ng",
	"tags": [],
	"description": "",
	"content": "BÆ°á»›c Ä‘áº§u trong bÃ i nÃ y, chÃºng ta sáº½ host á»©ng dá»¥ng web vá»›i S3 Static website hosting:\nMá»Ÿ báº£ng Ä‘iá»u khiá»ƒn Amazon S3 Console\nNháº¥n chá»n Create Bucket Nháº­p tÃªn cho bucket, vÃ­ dá»¥ nhÆ° fcjdmswebstore-5801 Bá» chá»n cháº·n cho phÃ©p truy cáº­p public\nTÃ­ch vÃ o má»¥c I acknowledge that the current settings might result in this bucket and the objects within becoming public áº¤n nÃºt Create bucket áº¤n vÃ o bucket Ä‘Ã£ táº¡o áº¤n tab Properties KÃ©o xuá»‘ng cuá»‘i trang, áº¥n edit cá»§a má»¥c Static web hosting Chá»n Enable Ä‘á»ƒ kÃ­ch hoáº¡t host web tÃ¬nh trÃªn S3\nChá»n Host a static website cho má»¥c Hosting type Nháº­p index.html cho má»¥c Index document áº¤n Save changes Sau khi kÃ­ch hoáº¡t thÃ nh cÃ´ng, báº¡n hÃ£y ghi láº¡i Ä‘Æ°á»ng dáº«n cá»§a web Sau Ä‘Ã³, chÃºng ta cáº§n thÃªm policy cho S3 bucket Ä‘á»ƒ cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c: Chá»n tab Permissions áº¤n Edit cá»§a má»¥c Bucket policy Sao chÃ©p chÃ­nh sÃ¡ch dÆ°á»›i Ä‘Ã¢y vÃ o má»¥c Policy {\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;PublicReadGetObject\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Principal\u0026#34;: \u0026#34;*\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;s3:GetObject\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::BUCKET_NAME/*\u0026#34;\r}\r]\r} Thay tháº¿ BUCKET_NAME vá»›i tÃªn bucket mÃ  báº¡n Ä‘Ã£ Ä‘áº·t, sau Ä‘Ã³ áº¥n Save changes Má»Ÿ tá»‡p src/component/Home/Upload.js trong thÆ° má»¥c source code cá»§a á»©ng dá»¥ng vÃ  bá» comment Ä‘oáº¡n code gá»i API ghi dá»¯ liá»‡u vÃ o DynamoDB. Tiáº¿p theo cháº¡y cÃ¢u lá»‡nh sau táº¡i thÆ° má»¥c gá»‘c cá»§a project báº¡n Ä‘Ã£ táº£i vá». (FCJ-Serverless-DMS) yarn build\raws s3 cp build s3://BUCKET_NAME --recursive Thay tháº¿ BUCKET_NAME vá»›i tÃªn bucket mÃ  báº¡n Ä‘Ã£ Ä‘áº·t Káº¿t quáº£ sau khi cháº¡y xong cÃ¢u lá»‡nh DÃ¡n Ä‘Æ°á»ng dáº«n web mÃ  báº¡n vá»«a ghi láº¡i vÃ o trÃ¬nh duyá»‡t web cá»§a báº¡n Báº¡n Ä‘Ã£ hoÃ n thÃ nh viá»‡c host website cá»§a mÃ¬nh trÃªn S3. Sang pháº§n tiáº¿p theo chÃºng ta cáº­p nháº­t láº¡i cÃ¡c lambda function\n"
},
{
	"uri": "//localhost:1313/vi/4-frontendintergrationwithfrontend/4.2-configapigateway/",
	"title": "Cáº¥u hÃ¬nh API Gateway",
	"tags": [],
	"description": "",
	"content": "Cáº­p nháº­t Lambda function Má»Ÿ báº£ng Ä‘iá»u khiá»ƒn AWS Lambda Console Chá»n hÃ m upload_documents Comment dÃ²ng 13 vÃ  má»Ÿ comment dÃ²ng 12 áº¤n Deloy Cáº¥u hÃ¬nh API Gateway Má»Ÿ báº£ng Ä‘iá»u khiá»ƒn Amazon API Gateway Console\náº¤n Create API KÃ©o xuá»‘ng má»¥c REST API, áº¥n Build Äá»ƒ máº·c Ä‘á»‹nh REST protocol.\nChá»n New API Nháº­p tÃªn API, vÃ­ dá»¥: fcj-dms-api-5801 Chá»n kiá»ƒu Endpoint lÃ  Regional áº¤n Create API Chá»n API Gateway Ä‘Ã£ táº¡o Chá»n Create Resource Ä‘á»ƒ táº¡o resource cho API. Nháº­p tÃªn cho resource: docs, sau Ä‘Ã³ áº¥n Create Resource Chá»n resource docs, sau Ä‘Ã³ áº¥n Create Method Thiáº¿t láº­p method nhÆ° sau:\nGiá»¯ máº·c Ä‘á»‹nh kiá»ƒu tÃ­ch há»£p lÃ  Lambda Function TÃ­ch vÃ o Lambda Proxy integration Chá»n cÃ¹ng cá»§a Lambda function mÃ  báº¡n Ä‘Ã£ táº¡o Chá»n hÃ m upload_document Cuá»‘i cÃ¹ng áº¥n Save Sau Ä‘Ã³ táº¡o method POST, áº¥n Create Resource Ä‘á»ƒ táº¡o resource. Nháº­p tÃªn resource {id}, sau Ä‘Ã³ áº¥n Create Resource Chá»n resource {id}, sau Ä‘Ã³ áº¥n Create Method Thiáº¿t láº­p method nhÆ° sau:\nGiá»¯ máº·c Ä‘á»‹nh kiá»ƒu tÃ­ch há»£p lÃ  Lambda Function TÃ­ch vÃ o Lambda Proxy integration Chá»n cÃ¹ng cá»§a Lambda function mÃ  báº¡n Ä‘Ã£ táº¡o Chá»n hÃ m list_documents Cuá»‘i cÃ¹ng áº¥n Save Click Create Method to create a new method Thiáº¿t láº­p method nhÆ° sau:\nGiá»¯ máº·c Ä‘á»‹nh kiá»ƒu tÃ­ch há»£p lÃ  Lambda Function TÃ­ch vÃ o Lambda Proxy integration Chá»n cÃ¹ng cá»§a Lambda function mÃ  báº¡n Ä‘Ã£ táº¡o Chá»n hÃ m delete_document Cuá»‘i cÃ¹ng áº¥n Save Chá»n method DELETE, sau Ä‘Ã³ áº¥n Edit táº¡i má»¥c Method request settings Má»Ÿ rá»™ng má»¥c URL Query String Parameters, áº¥n Add query string Ä‘á»ƒ thÃªm má»™t parameter má»›i\nNháº­p tÃªn parameter: file. Parameter nÃ y lÆ°u giÃ¡ trá»‹ tÃªn cá»§a file mÃ  báº¡n muá»‘n xoÃ¡. áº¤n Save Chá»n resource docs, sau Ä‘Ã³ áº¥n Enable CORS TÃ­ch vÃ o POST, sau Ä‘Ã³ áº¥n Save Chá»n resource {id}, sau Ä‘Ã³ áº¥n Enable CORS 21.TÃ­ch vÃ o GET vÃ  DELETE, sau Ä‘Ã³ áº¥n Save Sau khi hoÃ n thÃ nh thiáº¿t láº­p, chÃºng ta deploy API. Chá»n /docs, sau Ä‘Ã³ áº¥n Deploy API Chá»n [New Stage]\nNháº­p tÃªn stage: dev áº¤n Deploy Ghi láº¡i URL cá»§a API dÃ¹ng cho pháº§n tiáº¿p theo. Má»Ÿ rá»™ng stage, chá»n method POST vÃ  ghi láº¡i URL. Chá»n method DELETE vÃ  ghi láº¡i URL. Chá»n method GET vÃ  ghi láº¡i URL. Báº¡n Ä‘Ã£ hoÃ n thÃ nh viá»‡c thiáº¿t láº­p API. Tiáº¿p theo chÃºng ta sáº½ kiá»ƒm tra hoáº¡t Ä‘á»™ng cá»§a API vÃ  tÃ­ch há»£p nÃ³ vÃ o á»©ng dá»¥ng cá»§a mÃ¬nh.\n"
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.2-preparation/",
	"title": "Chuáº©n bá»‹",
	"tags": [],
	"description": "",
	"content": "ChÃºng ta thá»±c hiá»‡n cÃ¡c bÆ°á»›c dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ chuáº©n bá»‹ cho viá»‡c xÃ¡c thá»±c vÃ  lÆ°u tá»‡p vá»›i thÆ° viá»‡n Amplify trong pháº§n sau:\nCÃ i Ä‘áº·t Amplify CLI, cháº¡y cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y: npm install -g @aws-amplify/cli Báº¡n pháº£i cÃ i Ä‘áº·t NodeJs trÆ°á»›c khi cÃ i Ä‘áº·t Amplify CLI Báº¡n nÃªn táº¡o má»™t user vÃ  cáº¥u hÃ¬nh má»™t AWS profile vá»›i thÃ´ng tin xÃ¡c thá»±c trÃªn mÃ¡y cá»§a báº¡n.\nCháº¡y cÃ¡c cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ clone á»©ng dá»¥ng vá» mÃ¡y cá»§a báº¡n: git clone https://github.com/AWS-First-Cloud-Journey/FCJ-Serverless-DMS\rcd FCJ-Serverless-DMS\rnpm install Má»Ÿ project vÃ  má»Ÿ tá»‡p src/component/Home/Upload.js . Comment Ä‘oáº¡n code gá»i API Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i DynamoDB Äá»ƒ khá»Ÿi táº¡o Amplify cho á»©ng dá»¥ng, báº¡n cháº¡y cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y tá»« thÆ° má»¥c gá»‘c cá»§a á»©ng dá»¥ng:\namplify init Nháº­p theo cÃ¡c thÃ´ng tin dÆ°á»›i Ä‘Ã¢y::\n? Enter a name for the project `fcjdms`` The following configuration will be applied:\nProject information\n| Name: fcjdms\n| Environment: dev\n| Default editor: Visual Studio Code\n| App type: javascript\n| Javascript framework: react\n| Source Directory Path: src\n| Distribution Directory Path: build\n| Build Command: npm run-script build\n| Start Command: npm run-script start\n? Initialize the project with the above configuration? Yes\nUsing default provider awscloudformation\n? Select the authentication method you want to use: AWS profile\nFor more information on AWS Profiles, see:\nhttps://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html\n? Please choose the profile you want to use default\n? Help improve Amplify CLI by sharing non sensitive configurations on failures (y/N) â€º No\nMá»Ÿ báº£ng Ä‘iá»u khiá»ƒn cá»§a CloudFormation\nChá»n Stacks á»Ÿ menu phÃ­a bÃªn trÃ¡i, báº¡n sáº½ tháº¥y stack má»›i Ä‘Æ°á»£c táº¡o. áº¤n tab Resources báº¡n sáº½ tháº¥y cÃ¡c tÃ i nguyÃªn mÃ  Amplify táº¡o "
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.3-authenticationandstorage/3.3.2-storagewithamplify/",
	"title": "Storage vá»›i Amplify",
	"tags": [],
	"description": "",
	"content": "Sau khi báº¡n Ä‘Ã£ táº¡o tÃ i khoáº£n vá»›i Cognito User Pool thÃ nh cÃ´ng, chÃºng ta sáº½ dÃ¹ng tÃ i khoáº£n Ä‘Ã³ Ä‘á»ƒ upload file lÃªn S3 bucket vá»›i Amplify trong pháº§n nÃ y.\náº¤n tá»• há»£p Ctrl+C trong terminal hoáº·c command line\nCháº¡y cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y táº¡i thÆ° má»¥c gá»‘c cá»§a á»©ng dá»¥ng mÃ  báº¡n clone vá» Ä‘á»ƒ thÃªm storage cho á»©ng dá»¥ng:\namplify add storage Chá»n vÃ  nháº­p theo cÃ¡c thÃ´ng tin dÆ°á»›i Ä‘Ã¢y:\n? Please select from one of the below mentioned services: Content (Images, audio, video, etc.) Provide a friendly name for your resource that will be used to label this cateogry in the project: fcjdmsstore Provide bucket name: fcjdmsstore Who should have access: Auth users only What kind of access do you want for Authenticated user? áº¤n tá»• há»£p Ctrl + A Do you want to add a Lambda Trigger for your S3 Bucket? no Cháº¡y cÃ¢u lá»‡nh sau Ä‘á»ƒ cáº­p nháº­t tÃ i nguyÃªn trÃªn cloud: amplify push Má»Ÿ láº¡i báº£ng Ä‘iá»u khiá»ƒn cá»§a CloudFormation Ä‘á»ƒ kiá»ƒm tra xem stack Ä‘Ã£ Ä‘Æ°á»£c táº¡o hay chÆ°a. áº¤n vÃ o tÃªn cá»§a bucket Ä‘á»ƒ má»Ÿ báº£ng Ä‘iá»u khiá»ƒn cá»§a bucket Ä‘Ã³ Cháº¡y cÃ¢u lá»‡nh sau Ä‘á»ƒ báº¯t Ä‘áº§u vá»›i á»©ng dá»¥ng: npm start áº¤n Upload áº¤n Add files vÃ  chá»n nhá»¯ng tá»‡p báº¡n muá»‘n táº£i lÃªn ThÃªm tag cho cÃ¡c tá»‡p hoáº·c cÃ³ thá»ƒ bá» qua. Sau Ä‘Ã³ áº¥n Upload Báº¡n Ä‘Ã£ táº£i lÃªn thÃ nh cÃ´ng cÃ¡c tá»‡p cá»§a mÃ¬nh Quay láº¡i vá»›i báº£ng Ä‘iá»u khiá»ƒn cá»§a S3 bucket, kiá»ƒm tra xem cÃ¡c file Ä‘Ã£ Ä‘Æ°á»£c táº£i lÃªn hay chÆ°a. Váº­y lÃ  báº¡n Ä‘Ã£ hoÃ n thÃ nh viá»‡c xÃ¡c thá»±c ngÆ°á»i dÃ¹ng vÃ  táº£i tá»‡p lÃªn S3 vá»›i Amplify. Trong S3 bucket Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÆ° má»¥c protected bá»Ÿi vÃ¬ á»©ng dá»¥ng cá»§a chÃºng ta chá»n Access Level lÃ  protected. Äá»ƒ tÃ¬m hiá»ƒu thÃªm vá» Access Level, báº¡n hÃ£y chuyá»ƒn sang pháº§n tiáº¿p theo.\n"
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.2-createlambdafunctions/",
	"title": "Táº¡o cÃ¡c Lambda function",
	"tags": [],
	"description": "",
	"content": "Content Táº¡o function liá»‡t kÃª Táº¡o function táº¡o dá»¯ liá»‡u Táº¡o function xÃ³a dá»¯ liá»‡u "
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.2-createlambdafunctions/2.2.2-createcreatingfunction/",
	"title": "Táº¡o function táº¡o dá»¯ liá»‡u",
	"tags": [],
	"description": "",
	"content": "Trong pháº§n nÃ y chÃºng ta sáº½ táº¡o function Ä‘á»ƒ thÃªm thÃ´ng tin tÃ i liá»‡u Ä‘Æ°á»£c lÆ°u trong DynamoDB table.\nMá»Ÿ báº£ng Ä‘iá»u kiá»ƒn AWS Lambda console Nháº¥n nÃºt Create function Nháº­p tÃªn function: upload_document Chá»n Python 3.9 cho má»¥c Runtime Nháº¥n nÃºt Create function Nháº­p vÃ o Ä‘oáº¡n code sau cho tá»‡p lambda_function.py: import json import boto3 import os from datetime import datetime, timezone dynamodb = boto3.resource(\u0026#39;dynamodb\u0026#39;) def lambda_handler(event, context): table_name = os.environ[\u0026#39;TABLE_NAME\u0026#39;] now = datetime.now(tz=timezone.utc) dt_string = now.strftime(\u0026#34;%d/%m/%Y %H:%M:%S\u0026#34;) #doc_data = json.loads(event[\u0026#34;body\u0026#34;]) doc_data = event[\u0026#34;body\u0026#34;] path = \u0026#34;protected/{}/{}\u0026#34;.format(doc_data[\u0026#39;identityId\u0026#39;], doc_data[\u0026#39;file\u0026#39;]) doc_data.update({\u0026#34;path\u0026#34;: path, \u0026#34;modified\u0026#34;: dt_string}) table = dynamodb.Table(table_name) table.put_item(Item = doc_data) # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: \u0026#39;successfully upload!\u0026#39;, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#34;Access-Control-Allow-Headers\u0026#34;: \u0026#34;Access-Control-Allow-Headers, Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method,X-Access-Token, XKey, Authorization\u0026#34;, \u0026#34;Access-Control-Allow-Origin\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Access-Control-Allow-Methods\u0026#34;: \u0026#34;GET,PUT,POST,DELETE,OPTIONS\u0026#34; } } Sau Ä‘Ã³ nháº¥n nÃºt Deloy Äoáº¡n code trÃªn thá»±c hiá»‡n láº¥y biáº¿n mÃ´i trÆ°á»ng TABLE_NAME vÃ  dá»¯ liá»‡u cá»§a event. Sau Ä‘Ã³ thÃªm tá»«ng item vÃ o DynamoDB table.\nChÃºng ta cáº§n thÃªm biáº¿n mÃ´i trÆ°á»ng cho function. áº¤n tab Configuration, sau Ä‘Ã³ chá»n Environment variables á»Ÿ menu phÃ­a bÃªn trÃ¡i. áº¤n Edit Nháº¥n nÃºt Add environment variable Nháº­p TABLE_NAME vÃ o key Nháº­p tÃªn DynamoDB table báº¡n vá»«a táº¡o lÃ m giÃ¡ trá»‹ Nháº¥n nÃºt Save Tiáº¿p theo, thÃªm quyá»n cho function Ä‘á»ƒ truy cáº­p vÃ o DynamoDB table Nháº¥n nÃºt Permission á»Ÿ menu bÃªn trÃ¡i áº¤n vÃ o tÃªn role mÃ  lambda function Ä‘ang thá»±c hiá»‡n Má»Ÿ rá»™ng chÃ­nh sÃ¡ch AWSLambdaBasicExecutionRoleâ€¦ sau Ä‘Ã³ áº¥n Edit Nháº¥n nÃºt JSON. Sao chÃ©p Ä‘oáº¡n json dÆ°á»›i Ä‘Ã¢y vÃ o editor ,\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;dynamodb:Query\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:dynamodb:REGION:ACCOUNT_ID:table/Documents\u0026#34;\r} Thay tháº¿ REGION vÃ  ACCOUNT_ID báº±ng vÃ¹ng mÃ  báº¡n táº¡o báº£ng vÃ  account id cá»§a báº¡n.\nNháº¥n nÃºt Review policy Nháº¥n nÃºt Save changes "
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/",
	"title": "Triá»ƒn khai cÆ¡ sá»Ÿ dá»¯ liá»‡u",
	"tags": [],
	"description": "",
	"content": "Ná»™i dung Táº¡o báº£ng vá»›i DynamoDB Táº¡o cÃ¡c Lambda function Kiá»ƒm tra cÃ¡c function "
},
{
	"uri": "//localhost:1313/vi/3-configcognito/",
	"title": "Cáº¥u hÃ¬nh Cognito",
	"tags": [],
	"description": "",
	"content": "Tá»•ng quan Trong pháº§n nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng thÆ° viá»‡n Amplify Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng báº±ng Amazon Cognito, upload tá»‡p lÃªn S3 bucket.\nNá»™i dung Chuáº©n bá»‹ XÃ¡c thá»±c vÃ  lÆ°u trá»¯ Cáº¥p Ä‘á»™ truy cáº­p "
},
{
	"uri": "//localhost:1313/vi/4-frontendintergrationwithfrontend/4.3-testapiwithpostman/",
	"title": "Kiá»ƒm tra API báº±ng Postman",
	"tags": [],
	"description": "",
	"content": "Cáº­p nháº­t Lambda function Má»Ÿ báº£ng Ä‘iá»u khiá»ƒn AWS Lambda Console Chá»n hÃ m upload_documents Comment dÃ²ng 13 vÃ  má»Ÿ comment dÃ²ng 12 áº¤n Deloy Cáº¥u hÃ¬nh API Gateway Má»Ÿ báº£ng Ä‘iá»u khiá»ƒn Amazon API Gateway Console\náº¤n Create API KÃ©o xuá»‘ng má»¥c REST API, áº¥n Build Äá»ƒ máº·c Ä‘á»‹nh REST protocol.\nChá»n New API Nháº­p tÃªn API, vÃ­ dá»¥: fcj-dms-api-5801 Chá»n kiá»ƒu Endpoint lÃ  Regional áº¤n Create API Chá»n API Gateway Ä‘Ã£ táº¡o Chá»n Create Resource Ä‘á»ƒ táº¡o resource cho API. Nháº­p tÃªn cho resource: docs, sau Ä‘Ã³ áº¥n Create Resource Chá»n resource docs, sau Ä‘Ã³ áº¥n Create Method Thiáº¿t láº­p method nhÆ° sau:\nGiá»¯ máº·c Ä‘á»‹nh kiá»ƒu tÃ­ch há»£p lÃ  Lambda Function TÃ­ch vÃ o Lambda Proxy integration Chá»n cÃ¹ng cá»§a Lambda function mÃ  báº¡n Ä‘Ã£ táº¡o Chá»n hÃ m upload_document Cuá»‘i cÃ¹ng áº¥n Save Sau Ä‘Ã³ táº¡o method POST, áº¥n Create Resource Ä‘á»ƒ táº¡o resource. Nháº­p tÃªn resource {id}, sau Ä‘Ã³ áº¥n Create Resource Chá»n resource {id}, sau Ä‘Ã³ áº¥n Create Method Thiáº¿t láº­p method nhÆ° sau:\nGiá»¯ máº·c Ä‘á»‹nh kiá»ƒu tÃ­ch há»£p lÃ  Lambda Function TÃ­ch vÃ o Lambda Proxy integration Chá»n cÃ¹ng cá»§a Lambda function mÃ  báº¡n Ä‘Ã£ táº¡o Chá»n hÃ m list_documents Cuá»‘i cÃ¹ng áº¥n Save Click Create Method to create a new method Thiáº¿t láº­p method nhÆ° sau:\nGiá»¯ máº·c Ä‘á»‹nh kiá»ƒu tÃ­ch há»£p lÃ  Lambda Function TÃ­ch vÃ o Lambda Proxy integration Chá»n cÃ¹ng cá»§a Lambda function mÃ  báº¡n Ä‘Ã£ táº¡o Chá»n hÃ m delete_document Cuá»‘i cÃ¹ng áº¥n Save Chá»n method DELETE, sau Ä‘Ã³ áº¥n Edit táº¡i má»¥c Method request settings Má»Ÿ rá»™ng má»¥c URL Query String Parameters, áº¥n Add query string Ä‘á»ƒ thÃªm má»™t parameter má»›i\nNháº­p tÃªn parameter: file. Parameter nÃ y lÆ°u giÃ¡ trá»‹ tÃªn cá»§a file mÃ  báº¡n muá»‘n xoÃ¡. áº¤n Save Chá»n resource docs, sau Ä‘Ã³ áº¥n Enable CORS TÃ­ch vÃ o POST, sau Ä‘Ã³ áº¥n Save Chá»n resource {id}, sau Ä‘Ã³ áº¥n Enable CORS 21.TÃ­ch vÃ o GET vÃ  DELETE, sau Ä‘Ã³ áº¥n Save Sau khi hoÃ n thÃ nh thiáº¿t láº­p, chÃºng ta deploy API. Chá»n /docs, sau Ä‘Ã³ áº¥n Deploy API Chá»n [New Stage]\nNháº­p tÃªn stage: dev áº¤n Deploy Ghi láº¡i URL cá»§a API dÃ¹ng cho pháº§n tiáº¿p theo. Má»Ÿ rá»™ng stage, chá»n method POST vÃ  ghi láº¡i URL. Chá»n method DELETE vÃ  ghi láº¡i URL. Chá»n method GET vÃ  ghi láº¡i URL. Báº¡n Ä‘Ã£ hoÃ n thÃ nh viá»‡c thiáº¿t láº­p API. Tiáº¿p theo chÃºng ta sáº½ kiá»ƒm tra hoáº¡t Ä‘á»™ng cá»§a API vÃ  tÃ­ch há»£p nÃ³ vÃ o á»©ng dá»¥ng cá»§a mÃ¬nh.\n"
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.3-testlambdafunctions/",
	"title": "Kiá»ƒm tra cÃ¡c funcrion",
	"tags": [],
	"description": "",
	"content": "Trong pháº§n nÃ y chÃºng ta sáº½ táº¡o kiá»ƒm tra xem cÃ¡c function cÃ³ hoáº¡t Ä‘á»™ng Ä‘Ãºng hay khÃ´ng.\nÄá»ƒ kiá»ƒm tra cÃ¡c function, báº¡n hÃ£y táº£i tá»‡p dÆ°á»›i Ä‘Ã¢y vá» mÃ¡y vÃ  cháº¡y cÃ¢u lá»‡nh: aws dynamodb batch-write-item --request-items file://documentData.json\nğŸ“ Document Data\ndocumentData.json (3 KB) Kiá»ƒm tra function liá»‡t kÃª Má»Ÿ báº£ng Ä‘iá»u kiá»ƒn cá»§a function list_documents áº¤n tab Test Nháº­p tc_1 cho tÃªn event Nháº­p Ä‘oáº¡n json dÆ°á»›i Ä‘Ã¢y cho Event JSON { \u0026#34;pathParameters\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;abcd1234\u0026#34;\r}\r} áº¤n Save, sau Ä‘Ã³ áº¥n Test Báº¡n sáº½ nháº­n káº¿t quáº£ tráº£ vá» lÃ  toÃ n bá»™ thÃ´ng tin cá»§a cÃ¡c tá»‡p cá»§a ngÆ°á»i dÃ¹ng vá»›i id lÃ  abcd1234 Kiá»ƒm tra function táº¡o dá»¯ liá»‡u Má»Ÿ báº£ng Ä‘iá»u khiá»ƒn cá»§a function upload_document áº¤n tab Test Nháº­p tc_1 cho tÃªn event Nháº­p Ä‘oáº¡n json dÆ°á»›i Ä‘Ã¢y cho Event JSON {\r\u0026#34;body\u0026#34;:{\r\u0026#34;user_id\u0026#34;: \u0026#34;abcd1234\u0026#34;,\r\u0026#34;file\u0026#34;: \u0026#34;aws_serverless.doc\u0026#34;,\r\u0026#34;folder\u0026#34;: \u0026#34;\u0026#34;,\r\u0026#34;identityId\u0026#34;: \u0026#34;123456cvbn\u0026#34;,\r\u0026#34;modified\u0026#34;: \u0026#34;13-03-2023\u0026#34;,\r\u0026#34;size\u0026#34;: \u0026#34;2MB\u0026#34;,\r\u0026#34;type\u0026#34;: \u0026#34;doc\u0026#34;,\r\u0026#34;tag\u0026#34;: \u0026#34;aws, serverless\u0026#34;\r}\r} áº¤n Save, sau Ä‘Ã³ áº¥n Test Báº¡n sáº½ nháº­n káº¿t quáº£ tráº£ vá» lÃ  succeeded Má»Ÿ báº£ng Documents Ä‘á»ƒ kiá»ƒm tra xem Ä‘Ã£ thÃªm thÃ nh cÃ´ng hay chÆ°a Kiá»ƒm tra function xÃ³a dá»¯ liá»‡u Má»Ÿ báº£ng Ä‘iá»u kiá»ƒn cá»§a function delete_documents áº¤n tab Test Nháº­p tc_1 cho tÃªn event Nháº­p Ä‘oáº¡n json dÆ°á»›i Ä‘Ã¢y cho Event JSON {\r\u0026#34;pathParameters\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;abcd1234\u0026#34;\r},\r\u0026#34;queryStringParameters\u0026#34;: {\r\u0026#34;file\u0026#34;: \u0026#34;aws-exports.js\u0026#34;\r}\r} áº¤n Save, sau Ä‘Ã³ áº¥n Test Báº¡n sáº½ nháº­n káº¿t quáº£ tráº£ vá» lÃ  succeeded Má»Ÿ báº£ng Documents Ä‘á»ƒ xem lÃ  Ä‘Ã£ xÃ³a thÃ nh cÃ´ng hay chÆ°a Váº­y lÃ  báº¡n Ä‘Ã£ hoÃ n thÃ nh táº¡o cÃ¡c Lambda function tÆ°Æ¡ng tÃ¡c vá»›i DynamoDB. Trong bÃ i tiáº¿p theo chÃºng ta xÃ¡c thá»±c vÃ o lÆ°u trá»¯ vá»›i thÆ° viá»‡n Amplify.\n"
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.2-createlambdafunctions/2.2.3-createdeletingfunction/",
	"title": "Táº¡o function xÃ³a dá»¯ liá»‡u",
	"tags": [],
	"description": "",
	"content": "Trong pháº§n nÃ y chÃºng ta sáº½ táº¡o function Ä‘á»ƒ xoÃ¡ thÃ´ng tin tÃ i liá»‡u Ä‘Æ°á»£c lÆ°u trong DynamoDB table theo id cá»§a ngÆ°á»i dÃ¹ng vÃ  tÃªn tá»‡p.\nMá»Ÿ báº£ng Ä‘iá»u kiá»ƒn AWS Lambda console Nháº¥n nÃºt Create function Nháº­p tÃªn function: delete_documents Chá»n Python 3.9 cho má»¥c Runtime Nháº¥n nÃºt Create function Nháº­p vÃ o Ä‘oáº¡n code sau cho tá»‡p lambda_function.py: import json import boto3 import os client = boto3.resource(\u0026#39;dynamodb\u0026#39;) def lambda_handler(event, context): # TODO implement table_name = os.environ[\u0026#39;TABLE_NAME\u0026#39;] error = None doc_pk = event[\u0026#39;pathParameters\u0026#39;][\u0026#39;id\u0026#39;] print(\u0026#34;doc_pk \u0026#34;, doc_pk) doc_sk = event[\u0026#39;queryStringParameters\u0026#39;][\u0026#39;file\u0026#39;] print(\u0026#34;doc_sk \u0026#34;, doc_sk) table = client.Table(table_name) key = { \u0026#39;user_id\u0026#39;:doc_pk, \u0026#39;file\u0026#39;: doc_sk } try: table.delete_item(Key = key) except Exception as e: error = e except Exception as e: error = e if error is None: message = \u0026#39;delete document successful!\u0026#39; else: print(error) message = \u0026#39;delete document fail\u0026#39; return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: message, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39; }, } Sau Ä‘Ã³ nháº¥n nÃºt Deloy Äoáº¡n code trÃªn thá»±c hiá»‡n láº¥y biáº¿n mÃ´i trÆ°á»ng TABLE_NAME vÃ  partition key vÃ  sort key tá»« event. Sau Ä‘Ã³ thÃªm xoÃ¡ item cÃ³ partition key vÃ  sort key khá»›p vá»›i input.\nChÃºng ta cáº§n thÃªm biáº¿n mÃ´i trÆ°á»ng cho function. áº¤n tab Configuration, sau Ä‘Ã³ chá»n Environment variables á»Ÿ menu phÃ­a bÃªn trÃ¡i. áº¤n Edit Nháº¥n nÃºt Add environment variable Nháº­p TABLE_NAME vÃ o key Nháº­p tÃªn DynamoDB table báº¡n vá»«a táº¡o lÃ m giÃ¡ trá»‹ Nháº¥n nÃºt Save Tiáº¿p theo, thÃªm quyá»n cho function Ä‘á»ƒ truy cáº­p vÃ o DynamoDB table Nháº¥n nÃºt Permission á»Ÿ menu bÃªn trÃ¡i áº¤n vÃ o tÃªn role mÃ  lambda function Ä‘ang thá»±c hiá»‡n Má»Ÿ rá»™ng chÃ­nh sÃ¡ch AWSLambdaBasicExecutionRoleâ€¦ sau Ä‘Ã³ áº¥n Edit Nháº¥n nÃºt JSON. Sao chÃ©p Ä‘oáº¡n json dÆ°á»›i Ä‘Ã¢y vÃ o editor ,\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;dynamoDB:PutItem\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:dynamodb:REGION:ACCOUNT_ID:table/Documents\u0026#34;\r} Thay tháº¿ REGION vÃ  ACCOUNT_ID báº±ng vÃ¹ng mÃ  báº¡n táº¡o báº£ng vÃ  account id cá»§a báº¡n.\nNháº¥n nÃºt Review policy Nháº¥n nÃºt Save changes "
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.3-authenticationandstorage/",
	"title": "XÃ¡c thá»±c vÃ  lÆ°u trá»¯",
	"tags": [],
	"description": "",
	"content": "ÄÃ¢y lÃ  pháº§n chÃ­nh cá»§a workshop nÃ y, báº¡n sáº½ thÃªm xÃ¡c thá»±c ngÆ°á»i dÃ¹ng vÃ  storage vá»›i Amplify vÃ o project.\nNá»™i dung Authentication vá»›i amplify Storage vá»›i amplify "
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.4-accesslevel/",
	"title": "Cáº¥p Ä‘á»™ truy cáº­p",
	"tags": [],
	"description": "",
	"content": "Khi táº£i tá»‡p lÃªn S3 bucket, chÃºng ta cÃ³ 3 cáº¥p Ä‘á»™ truy cáº­p lÃ  public, protected vÃ  private:\nPublic: Táº¥t cáº£ ngÆ°á»i dÃ¹ng á»©ng dá»¥ng cá»§a báº¡n cÃ³ thá»ƒ truy cáº­p. CÃ¡c tá»‡p Ä‘Æ°á»£c lÆ°u trá»¯ dÆ°á»›i Ä‘Æ°á»ng dáº«n chung/trong bá»™ chá»©a S3 cá»§a báº¡n. Protected: Táº¥t cáº£ ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘á»c nhÆ°ng chá»‰ ngÆ°á»i dÃ¹ng táº¡o má»›i cÃ³ thá»ƒ ghi. CÃ¡c tá»‡p Ä‘Æ°á»£c lÆ°u trá»¯ trong protected/{user_identity_id}/ trong Ä‘Ã³ user_identity_id tÆ°Æ¡ng á»©ng vá»›i ID nháº­n dáº¡ng Amazon Cognito duy nháº¥t cho ngÆ°á»i dÃ¹ng Ä‘Ã³. Private: Chá»‰ cÃ³ thá»ƒ truy cáº­p cho ngÆ°á»i dÃ¹ng cÃ¡ nhÃ¢n. CÃ¡c tá»‡p Ä‘Æ°á»£c lÆ°u trá»¯ trong private/{user_identity_id}/ trong Ä‘Ã³ user_identity_id tÆ°Æ¡ng á»©ng vá»›i ID nháº­n dáº¡ng Amazon Cognito duy nháº¥t cho ngÆ°á»i dÃ¹ng Ä‘Ã³. Trong pháº§n nÃ y chÃºng ta sáº½ thay Ä‘á»•i quyá»n cá»§a ngÆ°á»i dÃ¹ng Ä‘á»ƒ táº£i tá»‡p lÃªn S3.\nTruy cáº­p vÃ o báº£ng Ä‘iá»u khiá»ƒn cá»§a Cognito console\náº¤m Identity pools á»Ÿ menu bÃªn trÃ¡i Chá»n fcjdms\u0026hellip;identitypool\u0026hellip; áº¤n tab User access vÃ  ghi láº¡i tÃªn cá»§a Authenticated role Má»Ÿ báº£ng Ä‘iá»u khiá»ƒn cá»§a IAM Role\nChá»n Roles á»Ÿ menu bÃªn trÃ¡i Nháº­p tÃªn cá»§a Authenticated role vÃ  áº¥n vÃ o role tÃ¬m tháº¥y Má»Ÿ rá»™ng chÃ­nh sÃ¡ch Ä‘á»ƒ xem quyá»n cá»§a user Chá»n chÃ­nh sÃ¡ch Protected_policy_\u0026hellip;\náº¤n Remove ChÃºng ta sáº½ xÃ³a quyá»n á»Ÿ má»©c Ä‘á»™ truy cáº­p lÃ  protected bá»Ÿi vÃ¬ á»©ng dá»¥ng Ä‘ang sá»­ dá»¥ng cáº¥p Ä‘á»™ Ä‘Ã³.\nNháº­p tÃªn chÃ­nh sÃ¡ch vÃ  áº¥n Delete Báº¡n Ä‘Ã£ xÃ³a thÃ nh cÃ´ng Trá»Ÿ vá» á»©ng dá»¥ng vÃ  chá»n Add files, tiáº¿p tá»¥c chá»n tá»‡p mÃ  báº¡n muá»‘n táº£i lÃªn. Sau Ä‘Ã³ áº¥n Upload Truy cáº­p vÃ o báº£ng Ä‘iá»u khiá»ƒn Inspect | Console. ChÃºng ta Ä‘Ã£ nháº­n Ä‘Æ°á»£c má»™t lá»—i. ThÃªm láº¡i quyá»n cho ngÆ°á»i dÃ¹ng.\náº¤m Add permissions Chá»n Create inline policy Chá»n service lÃ  S3 Táº¡i má»¥c Actions | Read, chá»n GetObject Táº¡i má»¥c Actions | Write, chá»n PutObject vÃ  DeleteObject Táº¡i má»¥c Resources, chá»n Add ARN Nháº­p ARN: arn:aws:s3:::YOUR_BUCKET-dev/protected/${cognito-identity.amazonaws.com:sub}/* Thay tháº¿ YOUR_BUCKET báº±ng tÃªn bucket mÃ  báº¡n Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³.\náº¤n Add áº¤n Review policy Nháº­p tÃªn chÃ­nh sÃ¡ch: Protected_policy. Sau Ä‘Ã³ áº¥n Create policy Trá»Ÿ vá» á»©ng dá»¥ng, táº£i láº¡i tá»‡p mÃ  báº¡n vá»«a tháº¥t báº¡i\náº¤n Add files, chá»n tá»‡p mÃ  báº¡n muá»‘n táº£i lÃªn áº¤n Upload Má»Ÿ báº£ng Ä‘iá»u khiá»ƒn cá»§a S3 bucket xem tá»‡p Ä‘Ã£ táº£i thÃ nh cÃ´ng hay chÆ°a. "
},
{
	"uri": "//localhost:1313/vi/4-frontendintergrationwithfrontend/4.4-testapiwithfrontend/",
	"title": "Kiá»ƒm tra API vá»›i giao diá»‡n ngÆ°á»i dÃ¹ng",
	"tags": [],
	"description": "",
	"content": "Tá»•ng quan Trong pháº§n nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng thÆ° viá»‡n Amplify Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng báº±ng Amazon Cognito, upload tá»‡p lÃªn S3 bucket.\nNá»™i dung Chuáº©n bá»‹ XÃ¡c thá»±c vÃ  lÆ°u trá»¯ Cáº¥p Ä‘á»™ truy cáº­p "
},
{
	"uri": "//localhost:1313/vi/4-frontendintergrationwithfrontend/",
	"title": "TÃ­ch há»£p giao diá»‡n ngÆ°á»i dÃ¹ng vá»›i API",
	"tags": [],
	"description": "",
	"content": "Tá»•ng quan Trong pháº§n nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng thÆ° viá»‡n Amplify Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng báº±ng Amazon Cognito, upload tá»‡p lÃªn S3 bucket.\nNá»™i dung Chuáº©n bá»‹ XÃ¡c thá»±c vÃ  lÆ°u trá»¯ Cáº¥p Ä‘á»™ truy cáº­p "
},
{
	"uri": "//localhost:1313/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "//localhost:1313/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]