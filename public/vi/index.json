[
{
	"uri": "//localhost:1313/vi/3-configcognito/3.3-authenticationandstorage/",
	"title": "API Gateway Security and Rate Limiting",
	"tags": [],
	"description": "",
	"content": "Tri·ªÉn khai ASP.NET Core API + React JS + SQL Server 2019 tr√™n AWS T·ªïng quan Trong b√†i lab n√†y, b·∫°n s·∫Ω t√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v√† th·ª±c h√†nh v·ªÅ Amazon API Gateway Security and Rate Limiting - Session Management. Th∆∞Ã£c haÃÄnh taÃ£o k√™ÃÅt n√¥ÃÅi ƒë·∫øn maÃÅy chuÃâ public vaÃÄ maÃÅy chuÃâ private trong VPC.\n"
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.4-accesslevel/",
	"title": "API Gateway Security and Rate Limiting",
	"tags": [],
	"description": "",
	"content": "T·ªïng quan Trong ph·∫ßn n√†y, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng th∆∞ vi·ªán Amplify ƒë·ªÉ x√°c th·ª±c ng∆∞·ªùi d√πng b·∫±ng Amazon Cognito, upload t·ªáp l√™n S3 bucket.\n"
},
{
	"uri": "//localhost:1313/vi/",
	"title": "API Gateway Security and Rate Limiting",
	"tags": [],
	"description": "",
	"content": "Tri·ªÉn khai ASP.NET Core API + React JS + SQL Server 2019 tr√™n AWS T·ªïng quan Trong b√†i lab n√†y, b·∫°n s·∫Ω t√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v√† th·ª±c h√†nh v·ªÅ Amazon API Gateway Security and Rate Limiting - Session Management. Th∆∞Ã£c haÃÄnh taÃ£o k√™ÃÅt n√¥ÃÅi ƒë·∫øn maÃÅy chuÃâ public vaÃÄ maÃÅy chuÃâ private trong VPC.\n"
},
{
	"uri": "//localhost:1313/vi/1-introduce/",
	"title": "Gi·ªõi thi·ªáu",
	"tags": [],
	"description": "",
	"content": "Gi·ªõi thi·ªáu ƒë·ªÅ t√†i Trong b·ªëi c·∫£nh c√°c h·ªá th·ªëng hi·ªán ƒë·∫°i ng√†y c√†ng ph·ª• thu·ªôc v√†o API ƒë·ªÉ giao ti·∫øp gi·ªØa c√°c d·ªãch v·ª•, vi·ªác ƒë·∫£m b·∫£o an to√†n cho c√°c API tr·ªü th√†nh m·ªôt nhi·ªám v·ª• thi·∫øt y·∫øu. M·ªôt API kh√¥ng ƒë∆∞·ª£c b·∫£o v·ªá ƒë√∫ng c√°ch c√≥ th·ªÉ tr·ªü th√†nh ƒëi·ªÉm y·∫øu khi·∫øn c·∫£ h·ªá th·ªëng b·ªã t·∫•n c√¥ng, g√¢y m·∫•t d·ªØ li·ªáu, gi√°n ƒëo·∫°n d·ªãch v·ª• ho·∫∑c vi ph·∫°m tu√¢n th·ªß b·∫£o m·∫≠t.\nƒê·ªÅ t√†i ‚ÄúAPI Security Gateway v·ªõi Advanced Protection‚Äù h∆∞·ªõng ƒë·∫øn vi·ªác tri·ªÉn khai m·ªôt ki·∫øn tr√∫c API Gateway b·∫£o m·∫≠t cao c·∫•p tr√™n n·ªÅn t·∫£ng AWS, t√≠ch h·ª£p ƒë·∫ßy ƒë·ªß c√°c l·ªõp b·∫£o v·ªá hi·ªán ƒë·∫°i v√† quy chu·∫©n an ninh, bao g·ªìm:\nThreat Protection: B·∫£o v·ªá ch·ªëng l·∫°i c√°c cu·ªôc t·∫•n c√¥ng nh∆∞ DDoS, SQL injection, XSS\u0026hellip; Rate Limiting: Gi·ªõi h·∫°n t·ªëc ƒë·ªô truy c·∫≠p API theo IP ho·∫∑c theo ng∆∞·ªùi d√πng. Authentication: C∆° ch·∫ø x√°c th·ª±c m·∫°nh m·∫Ω, h·ªó tr·ª£ OAuth2, JWT, SSO\u0026hellip; Authorization: Ph√¢n quy·ªÅn chi ti·∫øt theo vai tr√≤, nh√≥m ng∆∞·ªùi d√πng. Monitoring \u0026amp; Logging: Gi√°m s√°t th·ªùi gian th·ª±c, alert, truy v·∫øt s·ª± c·ªë. Operational Readiness: Tri·ªÉn khai, b·∫£o tr√¨ v√† qu·∫£n l√Ω v·∫≠n h√†nh thu·∫≠n ti·ªán. Developer Integration: H·ªó tr·ª£ t·ªët cho vi·ªác t√≠ch h·ª£p frontend/backend v√† CI/CD. M·ª•c ti√™u tri·ªÉn khai H∆∞·ªõng d·∫´n s·∫Ω t·∫≠p trung v√†o vi·ªác c·∫•u h√¨nh v√† tri·ªÉn khai c√°c d·ªãch v·ª• native c·ªßa AWS ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c c√°c y√™u c·∫ßu sau:\nY√™u c·∫ßu k·ªπ thu·∫≠t D·ªãch v·ª• s·ª≠ d·ª•ng tr√™n AWS Threat Protection AWS Shield, AWS WAF DNS Protection + Entry Point Amazon Route 53 API Gateway Management Amazon API Gateway Authentication / Authorization Amazon Cognito, JWT, IAM Rate Limiting AWS WAF Rate-based rules, API Gateway quotas Business Logic AWS Lambda Data Storage Amazon S3, DynamoDB, Aurora Serverless Monitoring / Alerting Amazon CloudWatch, X-Ray Ki·∫øn tr√∫c h·ªá th·ªëng H·ªá th·ªëng ƒë∆∞·ª£c thi·∫øt k·∫ø theo h∆∞·ªõng zero-trust, v·ªõi c√°c l·ªõp b·∫£o v·ªá theo chi·ªÅu s√¢u t·ª´ l·ªõp bi√™n (network) ƒë·∫øn ·ª©ng d·ª•ng v√† d·ªØ li·ªáu.\nN·ªôi dung blog g·ªìm 3 ph·∫ßn ch√≠nh Gi·ªõi thi·ªáu ƒë·ªÅ t√†i (b·∫°n ƒëang xem) H∆∞·ªõng d·∫´n tri·ªÉn khai chi ti·∫øt tr√™n AWS Console: C·∫•u h√¨nh t·ª´ng th√†nh ph·∫ßn nh∆∞ Shield, WAF, Cognito, API Gateway, v.v. K·∫øt n·ªëi v√† t√≠ch h·ª£p gi·ªØa c√°c d·ªãch v·ª•. D·ªçn d·∫πp t√†i nguy√™n sau tri·ªÉn khai: H∆∞·ªõng d·∫´n x√≥a c√°c d·ªãch v·ª• ƒë√£ s·ª≠ d·ª•ng ƒë·ªÉ tr√°nh ph√°t sinh chi ph√≠. Y√™u c·∫ßu tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu M·ªôt t√†i kho·∫£n AWS v·ªõi quy·ªÅn qu·∫£n tr·ªã ho·∫∑c IAM ƒë·ªß quy·ªÅn thao t√°c. Ki·∫øn th·ª©c c∆° b·∫£n v·ªÅ REST API, b·∫£o m·∫≠t web (JWT, OAuth2, IAM). M·ªôt t√™n mi·ªÅn n·∫øu b·∫°n mu·ªën c·∫•u h√¨nh v·ªõi Route 53 v√† CloudFront. C√†i ƒë·∫∑t s·∫µn AWS CLI n·∫øu mu·ªën thao t√°c k·∫øt h·ª£p terminal. K·∫øt lu·∫≠n H∆∞·ªõng d·∫´n n√†y ph√π h·ª£p cho c·∫£:\nNh√† ph√°t tri·ªÉn ƒëang x√¢y d·ª±ng h·ªá th·ªëng API tr√™n AWS DevOps ho·∫∑c Security Engineer tri·ªÉn khai m√¥ h√¨nh b·∫£o m·∫≠t ph√¢n l·ªõp H·ªçc vi√™n ho·∫∑c k·ªπ s∆∞ mu·ªën t√¨m hi·ªÉu ki·∫øn tr√∫c b·∫£o m·∫≠t API hi·ªán ƒë·∫°i "
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.1-introduceamplify/",
	"title": "Gi·ªõi thi·ªáu v·ªÅ Amplify",
	"tags": [],
	"description": "",
	"content": "Overview AWS Amplify l√† b·ªô c√¥ng c·ª• h·ªó tr·ª£ l·∫≠p tr√¨nh vi√™n x√¢y d·ª±ng v√† tri·ªÉn khai nhanh c√°c ·ª©ng d·ª•ng web/mobile t√≠ch h·ª£p v·ªõi c√°c d·ªãch v·ª• AWS nh∆∞ API, Authentication, Storage, Hosting. Amplify gi√∫p ƒë∆°n gi·∫£n h√≥a qu√° tr√¨nh qu·∫£n l√Ω backend, cung c·∫•p th∆∞ vi·ªán frontend v√† d·ªãch v·ª• hosting s·∫µn s√†ng cho s·∫£n ph·∫©m.\nAuthentication with Amplify Authentication with Amplify gi√∫p d·ªÖ d√†ng t√≠ch h·ª£p t√≠nh nƒÉng x√°c th·ª±c ng∆∞·ªùi d√πng v√†o ·ª©ng d·ª•ng v·ªõi Amazon Cognito l√†m backend. H·ªó tr·ª£ ƒëƒÉng k√Ω, ƒëƒÉng nh·∫≠p, qu√™n m·∫≠t kh·∫©u, x√°c th·ª±c ƒëa y·∫øu t·ªë (MFA), x√°c th·ª±c x√£ h·ªôi (Google, Facebook, Apple), cho ph√©p l·∫≠p tr√¨nh vi√™n tri·ªÉn khai nhanh b·∫£o m·∫≠t ng∆∞·ªùi d√πng.\nStorage with Amplify Storage with Amplify cung c·∫•p gi·∫£i ph√°p l∆∞u tr·ªØ t·ªáp (h√¨nh ·∫£nh, video, t√†i li·ªáu) th√¥ng qua Amazon S3. D·ªØ li·ªáu c√≥ th·ªÉ ƒë∆∞·ª£c qu·∫£n l√Ω theo quy·ªÅn ri√™ng t∆∞ (public, protected, private), t√≠ch h·ª£p s·∫µn v·ªõi x√°c th·ª±c ng∆∞·ªùi d√πng ƒë·ªÉ ki·ªÉm so√°t quy·ªÅn truy c·∫≠p, h·ªó tr·ª£ upload, download v√† chia s·∫ª t·ªáp an to√†n.\n"
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.1-createdynamodbtable/",
	"title": "T·∫°o b·∫£ng v·ªõi DynamoDB",
	"tags": [],
	"description": "",
	"content": "CREATE DYNAMODB TABLE Open DynamoDB console Click Create table Enter table name: Documents Enter Parition key is user_id Enter Sort key is file In Table setting section, select Customsize setting Keep DynamoDB Standard for Table class Select On-demand for Capacity mode Scroll to the bottom of the page, click Create table "
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.2-createlambdafunctions/2.2.1-createlistingfunction/",
	"title": "T·∫°o function li·ªát k√™",
	"tags": [],
	"description": "",
	"content": "Trong ph·∫ßn n√†y ch√∫ng ta s·∫Ω t·∫°o function ƒë·ªÉ li·ªát k√™ c√°c t√†i li·ªáu ƒë∆∞·ª£c l∆∞u trong DynamoDB table theo id c·ªßa ng∆∞·ªùi d√πng.\nM·ªü b·∫£ng ƒëi·ªÅu ki·ªÉn AWS Lambda console Nh·∫•n n√∫t Create function Nh·∫≠p t√™n function: list_documents Ch·ªçn Python 3.9 cho m·ª•c Runtime Nh·∫•n n√∫t Create function Nh·∫≠p v√†o ƒëo·∫°n code sau cho t·ªáp lambda_function.py: import json import boto3 import os from decimal import * from boto3.dynamodb.types import TypeDeserializer dynamodb = boto3.client(\u0026#39;dynamodb\u0026#39;) serializer = TypeDeserializer() class DecimalEncoder(json.JSONEncoder): def default(self, obj): if isinstance(obj, Decimal): return str(obj) return json.JSONEncoder.default(self, obj) def deserialize(data): if isinstance(data, list): return [deserialize(v) for v in data] if isinstance(data, dict): try: return serializer.deserialize(data) except TypeError: return {k: deserialize(v) for k, v in data.items()} else: return data def lambda_handler(event, context): table_name = os.environ[\u0026#39;TABLE_NAME\u0026#39;] user_id = event[\u0026#39;pathParameters\u0026#39;][\u0026#39;id\u0026#39;] print(user_id) docs = dynamodb.query( TableName=table_name, KeyConditionExpression=\u0026#34;user_id = :id\u0026#34;, ExpressionAttributeValues={ \u0026#34;:id\u0026#34;: { \u0026#39;S\u0026#39;: user_id } } ) format_data_docs = deserialize(docs[\u0026#34;Items\u0026#34;]) # TODO implement return { \u0026#34;statusCode\u0026#34;: 200, \u0026#34;headers\u0026#34;: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, \u0026#34;Access-Control-Allow-Origin\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Access-Control-Allow-Methods\u0026#34;: \u0026#34;GET,PUT,POST,DELETE, OPTIONS\u0026#34;, \u0026#34;Access-Control-Allow-Headers\u0026#34;: \u0026#34;Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, Content-Type, Access-Control-Request-Method,X-Access-Token,XKey,Authorization\u0026#34; }, \u0026#34;body\u0026#34;: json.dumps(format_data_docs, cls=DecimalEncoder) } Sau ƒë√≥ nh·∫•n n√∫t Deloy ƒêo·∫°n code tr√™n th·ª±c hi·ªán l·∫•y bi·∫øn m√¥i tr∆∞·ªùng TABLE_NAME v√† id c·ªßa ng∆∞·ªùi d√πng t·ª´ event. Sau ƒë√≥ query ƒë·∫øn DynamoDB table v·ªõi ƒëi·ªÅu ki·ªán gi√° tr·ªã c·ªßa Partition key b·∫±ng id c·ªßa ng∆∞·ªùi d√πng. Sau ƒë√≥ ƒë·ªãnh d·∫°ng l·∫°i d·ªØ li·ªáu ƒë∆∞·ª£c tr·∫£ v·ªÅ sau khi query.\nCh√∫ng ta c·∫ßn th√™m bi·∫øn m√¥i tr∆∞·ªùng cho function. ·∫§n tab Configuration, sau ƒë√≥ ch·ªçn Environment variables ·ªü menu ph√≠a b√™n tr√°i. ·∫§n Edit Nh·∫•n n√∫t Add environment variable Nh·∫≠p TABLE_NAME v√†o key Nh·∫≠p t√™n DynamoDB table b·∫°n v·ª´a t·∫°o l√†m gi√° tr·ªã Nh·∫•n n√∫t Save Ti·∫øp theo, th√™m quy·ªÅn cho function ƒë·ªÉ truy c·∫≠p v√†o DynamoDB table Nh·∫•n n√∫t Permission ·ªü menu b√™n tr√°i ·∫§n v√†o t√™n role m√† lambda function ƒëang th·ª±c hi·ªán M·ªü r·ªông ch√≠nh s√°ch AWSLambdaBasicExecutionRole‚Ä¶ sau ƒë√≥ ·∫•n Edit Nh·∫•n n√∫t JSON. Sao ch√©p ƒëo·∫°n json d∆∞·ªõi ƒë√¢y v√†o editor ,\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;dynamodb:Query\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:dynamodb:REGION:ACCOUNT_ID:table/Documents\u0026#34;\r} Thay th·∫ø REGION v√† ACCOUNT_ID b·∫±ng v√πng m√† b·∫°n t·∫°o b·∫£ng v√† account id c·ªßa b·∫°n.\nNh·∫•n n√∫t Review policy Nh·∫•n n√∫t Save changes "
},
{
	"uri": "//localhost:1313/vi/3-configcognito/3.2-preparation/",
	"title": "API Gateway Security and Rate Limiting",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.2-createlambdafunctions/",
	"title": "T·∫°o c√°c Lambda function",
	"tags": [],
	"description": "",
	"content": "Content T·∫°o function li·ªát k√™ T·∫°o function t·∫°o d·ªØ li·ªáu T·∫°o function x√≥a d·ªØ li·ªáu "
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.2-createlambdafunctions/2.2.2-createcreatingfunction/",
	"title": "T·∫°o function t·∫°o d·ªØ li·ªáu",
	"tags": [],
	"description": "",
	"content": "Trong ph·∫ßn n√†y ch√∫ng ta s·∫Ω t·∫°o function ƒë·ªÉ th√™m th√¥ng tin t√†i li·ªáu ƒë∆∞·ª£c l∆∞u trong DynamoDB table.\nM·ªü b·∫£ng ƒëi·ªÅu ki·ªÉn AWS Lambda console Nh·∫•n n√∫t Create function Nh·∫≠p t√™n function: upload_document Ch·ªçn Python 3.9 cho m·ª•c Runtime Nh·∫•n n√∫t Create function Nh·∫≠p v√†o ƒëo·∫°n code sau cho t·ªáp lambda_function.py: import json import boto3 import os from datetime import datetime, timezone dynamodb = boto3.resource(\u0026#39;dynamodb\u0026#39;) def lambda_handler(event, context): table_name = os.environ[\u0026#39;TABLE_NAME\u0026#39;] now = datetime.now(tz=timezone.utc) dt_string = now.strftime(\u0026#34;%d/%m/%Y %H:%M:%S\u0026#34;) #doc_data = json.loads(event[\u0026#34;body\u0026#34;]) doc_data = event[\u0026#34;body\u0026#34;] path = \u0026#34;protected/{}/{}\u0026#34;.format(doc_data[\u0026#39;identityId\u0026#39;], doc_data[\u0026#39;file\u0026#39;]) doc_data.update({\u0026#34;path\u0026#34;: path, \u0026#34;modified\u0026#34;: dt_string}) table = dynamodb.Table(table_name) table.put_item(Item = doc_data) # TODO implement return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: \u0026#39;successfully upload!\u0026#39;, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#34;Access-Control-Allow-Headers\u0026#34;: \u0026#34;Access-Control-Allow-Headers, Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method,X-Access-Token, XKey, Authorization\u0026#34;, \u0026#34;Access-Control-Allow-Origin\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Access-Control-Allow-Methods\u0026#34;: \u0026#34;GET,PUT,POST,DELETE,OPTIONS\u0026#34; } } Sau ƒë√≥ nh·∫•n n√∫t Deloy ƒêo·∫°n code tr√™n th·ª±c hi·ªán l·∫•y bi·∫øn m√¥i tr∆∞·ªùng TABLE_NAME v√† d·ªØ li·ªáu c·ªßa event. Sau ƒë√≥ th√™m t·ª´ng item v√†o DynamoDB table.\nCh√∫ng ta c·∫ßn th√™m bi·∫øn m√¥i tr∆∞·ªùng cho function. ·∫§n tab Configuration, sau ƒë√≥ ch·ªçn Environment variables ·ªü menu ph√≠a b√™n tr√°i. ·∫§n Edit Nh·∫•n n√∫t Add environment variable Nh·∫≠p TABLE_NAME v√†o key Nh·∫≠p t√™n DynamoDB table b·∫°n v·ª´a t·∫°o l√†m gi√° tr·ªã Nh·∫•n n√∫t Save Ti·∫øp theo, th√™m quy·ªÅn cho function ƒë·ªÉ truy c·∫≠p v√†o DynamoDB table Nh·∫•n n√∫t Permission ·ªü menu b√™n tr√°i ·∫§n v√†o t√™n role m√† lambda function ƒëang th·ª±c hi·ªán M·ªü r·ªông ch√≠nh s√°ch AWSLambdaBasicExecutionRole‚Ä¶ sau ƒë√≥ ·∫•n Edit Nh·∫•n n√∫t JSON. Sao ch√©p ƒëo·∫°n json d∆∞·ªõi ƒë√¢y v√†o editor ,\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;dynamodb:Query\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:dynamodb:REGION:ACCOUNT_ID:table/Documents\u0026#34;\r} Thay th·∫ø REGION v√† ACCOUNT_ID b·∫±ng v√πng m√† b·∫°n t·∫°o b·∫£ng v√† account id c·ªßa b·∫°n.\nNh·∫•n n√∫t Review policy Nh·∫•n n√∫t Save changes "
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/",
	"title": "Tri·ªÉn khai c∆° s·ªü d·ªØ li·ªáu",
	"tags": [],
	"description": "",
	"content": "N·ªôi dung T·∫°o b·∫£ng v·ªõi DynamoDB T·∫°o c√°c Lambda function Ki·ªÉm tra c√°c function "
},
{
	"uri": "//localhost:1313/vi/3-configcognito/",
	"title": "C·∫•u h√¨nh Cognito",
	"tags": [],
	"description": "",
	"content": "T·ªïng quan Trong ph·∫ßn n√†y, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng th∆∞ vi·ªán Amplify ƒë·ªÉ x√°c th·ª±c ng∆∞·ªùi d√πng b·∫±ng Amazon Cognito, upload t·ªáp l√™n S3 bucket.\nN·ªôi dung Chu·∫©n b·ªã X√°c th·ª±c v√† l∆∞u tr·ªØ C·∫•p ƒë·ªô truy c·∫≠p "
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.3-testlambdafunctions/",
	"title": "Ki·ªÉm tra c√°c funcrion",
	"tags": [],
	"description": "",
	"content": "Trong ph·∫ßn n√†y ch√∫ng ta s·∫Ω t·∫°o ki·ªÉm tra xem c√°c function c√≥ ho·∫°t ƒë·ªông ƒë√∫ng hay kh√¥ng.\nƒê·ªÉ ki·ªÉm tra c√°c function, b·∫°n h√£y t·∫£i t·ªáp d∆∞·ªõi ƒë√¢y v·ªÅ m√°y v√† ch·∫°y c√¢u l·ªánh: aws dynamodb batch-write-item --request-items file://documentData.json\nüìé Document Data\ndocumentData.json (3 KB) Ki·ªÉm tra function li·ªát k√™ M·ªü b·∫£ng ƒëi·ªÅu ki·ªÉn c·ªßa function list_documents ·∫§n tab Test Nh·∫≠p tc_1 cho t√™n event Nh·∫≠p ƒëo·∫°n json d∆∞·ªõi ƒë√¢y cho Event JSON { \u0026#34;pathParameters\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;abcd1234\u0026#34;\r}\r} ·∫§n Save, sau ƒë√≥ ·∫•n Test B·∫°n s·∫Ω nh·∫≠n k·∫øt qu·∫£ tr·∫£ v·ªÅ l√† to√†n b·ªô th√¥ng tin c·ªßa c√°c t·ªáp c·ªßa ng∆∞·ªùi d√πng v·ªõi id l√† abcd1234 Ki·ªÉm tra function t·∫°o d·ªØ li·ªáu M·ªü b·∫£ng ƒëi·ªÅu khi·ªÉn c·ªßa function upload_document ·∫§n tab Test Nh·∫≠p tc_1 cho t√™n event Nh·∫≠p ƒëo·∫°n json d∆∞·ªõi ƒë√¢y cho Event JSON {\r\u0026#34;body\u0026#34;:{\r\u0026#34;user_id\u0026#34;: \u0026#34;abcd1234\u0026#34;,\r\u0026#34;file\u0026#34;: \u0026#34;aws_serverless.doc\u0026#34;,\r\u0026#34;folder\u0026#34;: \u0026#34;\u0026#34;,\r\u0026#34;identityId\u0026#34;: \u0026#34;123456cvbn\u0026#34;,\r\u0026#34;modified\u0026#34;: \u0026#34;13-03-2023\u0026#34;,\r\u0026#34;size\u0026#34;: \u0026#34;2MB\u0026#34;,\r\u0026#34;type\u0026#34;: \u0026#34;doc\u0026#34;,\r\u0026#34;tag\u0026#34;: \u0026#34;aws, serverless\u0026#34;\r}\r} ·∫§n Save, sau ƒë√≥ ·∫•n Test B·∫°n s·∫Ω nh·∫≠n k·∫øt qu·∫£ tr·∫£ v·ªÅ l√† succeeded M·ªü b·∫£ng Documents ƒë·ªÉ ki·ªÉm tra xem ƒë√£ th√™m th√†nh c√¥ng hay ch∆∞a Ki·ªÉm tra function x√≥a d·ªØ li·ªáu M·ªü b·∫£ng ƒëi·ªÅu ki·ªÉn c·ªßa function delete_documents ·∫§n tab Test Nh·∫≠p tc_1 cho t√™n event Nh·∫≠p ƒëo·∫°n json d∆∞·ªõi ƒë√¢y cho Event JSON {\r\u0026#34;pathParameters\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;abcd1234\u0026#34;\r},\r\u0026#34;queryStringParameters\u0026#34;: {\r\u0026#34;file\u0026#34;: \u0026#34;aws-exports.js\u0026#34;\r}\r} ·∫§n Save, sau ƒë√≥ ·∫•n Test B·∫°n s·∫Ω nh·∫≠n k·∫øt qu·∫£ tr·∫£ v·ªÅ l√† succeeded M·ªü b·∫£ng Documents ƒë·ªÉ xem l√† ƒë√£ x√≥a th√†nh c√¥ng hay ch∆∞a V·∫≠y l√† b·∫°n ƒë√£ ho√†n th√†nh t·∫°o c√°c Lambda function t∆∞∆°ng t√°c v·ªõi DynamoDB. Trong b√†i ti·∫øp theo ch√∫ng ta x√°c th·ª±c v√†o l∆∞u tr·ªØ v·ªõi th∆∞ vi·ªán Amplify.\n"
},
{
	"uri": "//localhost:1313/vi/2-deloydatabase/2.2-createlambdafunctions/2.2.3-createdeletingfunction/",
	"title": "T·∫°o function x√≥a d·ªØ li·ªáu",
	"tags": [],
	"description": "",
	"content": "Trong ph·∫ßn n√†y ch√∫ng ta s·∫Ω t·∫°o function ƒë·ªÉ xo√° th√¥ng tin t√†i li·ªáu ƒë∆∞·ª£c l∆∞u trong DynamoDB table theo id c·ªßa ng∆∞·ªùi d√πng v√† t√™n t·ªáp.\nM·ªü b·∫£ng ƒëi·ªÅu ki·ªÉn AWS Lambda console Nh·∫•n n√∫t Create function Nh·∫≠p t√™n function: delete_documents Ch·ªçn Python 3.9 cho m·ª•c Runtime Nh·∫•n n√∫t Create function Nh·∫≠p v√†o ƒëo·∫°n code sau cho t·ªáp lambda_function.py: import json import boto3 import os client = boto3.resource(\u0026#39;dynamodb\u0026#39;) def lambda_handler(event, context): # TODO implement table_name = os.environ[\u0026#39;TABLE_NAME\u0026#39;] error = None doc_pk = event[\u0026#39;pathParameters\u0026#39;][\u0026#39;id\u0026#39;] print(\u0026#34;doc_pk \u0026#34;, doc_pk) doc_sk = event[\u0026#39;queryStringParameters\u0026#39;][\u0026#39;file\u0026#39;] print(\u0026#34;doc_sk \u0026#34;, doc_sk) table = client.Table(table_name) key = { \u0026#39;user_id\u0026#39;:doc_pk, \u0026#39;file\u0026#39;: doc_sk } try: table.delete_item(Key = key) except Exception as e: error = e except Exception as e: error = e if error is None: message = \u0026#39;delete document successful!\u0026#39; else: print(error) message = \u0026#39;delete document fail\u0026#39; return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: message, \u0026#39;headers\u0026#39;: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39; }, } Sau ƒë√≥ nh·∫•n n√∫t Deloy ƒêo·∫°n code tr√™n th·ª±c hi·ªán l·∫•y bi·∫øn m√¥i tr∆∞·ªùng TABLE_NAME v√† partition key v√† sort key t·ª´ event. Sau ƒë√≥ th√™m xo√° item c√≥ partition key v√† sort key kh·ªõp v·ªõi input.\nCh√∫ng ta c·∫ßn th√™m bi·∫øn m√¥i tr∆∞·ªùng cho function. ·∫§n tab Configuration, sau ƒë√≥ ch·ªçn Environment variables ·ªü menu ph√≠a b√™n tr√°i. ·∫§n Edit Nh·∫•n n√∫t Add environment variable Nh·∫≠p TABLE_NAME v√†o key Nh·∫≠p t√™n DynamoDB table b·∫°n v·ª´a t·∫°o l√†m gi√° tr·ªã Nh·∫•n n√∫t Save Ti·∫øp theo, th√™m quy·ªÅn cho function ƒë·ªÉ truy c·∫≠p v√†o DynamoDB table Nh·∫•n n√∫t Permission ·ªü menu b√™n tr√°i ·∫§n v√†o t√™n role m√† lambda function ƒëang th·ª±c hi·ªán M·ªü r·ªông ch√≠nh s√°ch AWSLambdaBasicExecutionRole‚Ä¶ sau ƒë√≥ ·∫•n Edit Nh·∫•n n√∫t JSON. Sao ch√©p ƒëo·∫°n json d∆∞·ªõi ƒë√¢y v√†o editor ,\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;dynamoDB:PutItem\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:dynamodb:REGION:ACCOUNT_ID:table/Documents\u0026#34;\r} Thay th·∫ø REGION v√† ACCOUNT_ID b·∫±ng v√πng m√† b·∫°n t·∫°o b·∫£ng v√† account id c·ªßa b·∫°n.\nNh·∫•n n√∫t Review policy Nh·∫•n n√∫t Save changes "
},
{
	"uri": "//localhost:1313/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "//localhost:1313/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]